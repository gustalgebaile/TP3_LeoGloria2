name: Secret Demo

on:
  push:
  workflow_dispatch:

jobs:
  secret-test:
    runs-on: ubuntu-latest

    steps:
      - name: Verify API_KEY is configured
        run: |
          echo "API_KEY configurado"
          echo "Secret está disponível para uso na aplicação"
        env:
          API_KEY: ${{ secrets.API_KEY }}

      - name: Check secret length (safe)
        run: |
          if [ -n "$API_KEY" ]; then
            echo " API_KEY está configurado corretamente"
            echo " Tamanho do secret: ${#API_KEY} caracteres"
          else
            echo " API_KEY não está configurado"
            exit 1
          fi
        env:
          API_KEY: ${{ secrets.API_KEY }}

      - name: Simulate API usage
        run: |
          echo "Conectando à API usando credenciais seguras..."
          echo "Status: Autenticação bem-sucedida"
